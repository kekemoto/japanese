<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://fonts.googleapis.com/css2?family=Yomogi&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/skeleton-css@2.0.4/css/normalize.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css"
    />
    <link
      rel="icon"
      type="image/png"
      href="https://kekemoto.github.io/favicon.ico"
    />
    <style>
      body {
        font-family: "Yomogi", cursive;
        margin: 0 1em;
      }

      #editor {
        width: 100%;
        min-height: 40vh;
      }

      #execute {
        font-size: 1.3em;
      }
    </style>
    <script src="./index.js" charset="UTF-8"></script>
  </head>
  <body>
    <h1 style="text-align: center">にほんごプログラミング</h1>
    <textarea id="editor">「ようこそ！」をアラートに表示する。</textarea>
    <button id="execute" class="button-primary">実行</button>
    <div id="screen"></div>

    <h4>サンプル集</h4>
    <ul>
      <li onclick="sampleClick('「ようこそ！」をアラートに表示する。')">
        ようこそを表示する
      </li>
      <li
        onclick="sampleClick('「大丈夫だ問題ない」をスクリーンに表示する。\nスクリーンに「大丈夫だ問題ない」を表示する。')"
      >
        語順を入れ替えても大丈夫
      </li>
      <li
        onclick="sampleClick('リンゴの重さを３００とする。\nスクリーンにリンゴの重さを表示する。')"
      >
        変数を使う
      </li>
      <li
        onclick="sampleClick('リンゴの重さを３００とする。\nもしリンゴの重さが２００より大きいならば、スクリーンに「大きいリンゴです！」を表示する。')"
      >
        条件で分岐する１
      </li>
      <li
        onclick="sampleClick('リンゴの重さを２００とする。\nもしリンゴの重さが２００より大きいならば、スクリーンに「大きいリンゴです！」を表示する。違うならスクリーンに「小さいリンゴです…」を表示する。')"
      >
        条件で分岐する２
      </li>
      <li
        onclick="sampleClick('ここから\n　「繰り返し」をスクリーンに表示する。\nここまでを２回繰り返す。')"
      >
        繰り返す
      </li>
    </ul>

    <table>
      <tr>
        <td>ソースコード</td>
        <td><a href="https://github.com/kekemoto/japanese">GitHub</a></td>
      </tr>
      <tr>
        <td>作者</td>
        <td><a href="https://twitter.com/keke_moto">けけもと</a></td>
      </tr>
      <tr>
        <td>この動画が面白すぎて作りました。</td>
        <td>
          <a href="https://www.youtube.com/watch?v=A1_ScH1NiCo"
            >ネイティブは存在しない動詞も理解できるらしい…【カタルシス英文法_文型2】#44</a
          >
        </td>
      </tr>
    </table>

    <script>
      let editor = document.getElementById("editor");
      let executeButton = document.getElementById("execute");
      let screen = document.getElementById("screen");

      executeButton.addEventListener("click", () => {
        screen.innerText = "";
        let context = new Context();
        context.scope["スクリーン"] = (text) => {
          screen.innerText += text + "\n";
        };
        run(editor.value, 1, context);
      });

      sampleClick = (text) => {
        editor.value = text;
      };
    </script>
  </body>
</html>
